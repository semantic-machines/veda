@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix d: <http://semantic-machines.com/veda/veda-data/> .

<http://semantic-machines.com/veda/veda-organization-ui>
  rdf:type owl:Ontology ;
  rdfs:label "Онтология системы Veda. Организация. UI."@ru ;
  rdfs:label "Veda system ontology. Organization. UI."@en ;
#  owl:versionInfo "1.3" ;
  v-s:loadPriority 6 ;
.

# ------------------------------------------------------------ МОДЕЛИ --

v-s:OrganizationUnitModel
  rdf:type v-ui:ClassModel ;
  v-ui:forClass v-s:OrganizationUnit ;
  v-ui:forClass v-s:OrgGroup ;
  v-ui:forClass v-s:Organization ;
  v-ui:forClass v-s:Subsidiary ;
  v-ui:forClass v-s:Department ;
  v-ui:forClass v-s:Position ;
  v-ui:forClass v-s:Appointment ;
  rdfs:comment "Модель для класса v-s:OrganizationUnit"@ru ;
  rdfs:comment "Model for v-s:OrganizationUnit class"@en ;
  rdfs:label "Модель организационной единицы"@ru ;
  rdfs:label "Organization unit model"@en ;
  v-s:script """
  /**
   * @method
   * @param unit {String/veda.IndividualModel} Super unit uri or individual.
   * @return {boolean}.
   */
  this.isSubUnitOf = function (unit, depth) {
    depth = depth || 0;
    var self = this;
    if (typeof unit.valueOf() === "string") {
      unit = new veda.IndividualModel( unit.valueOf() );
    }
    if (!this.hasValue("v-s:parentUnit") || depth > 16) return false;
    return this["v-s:parentUnit"].reduce(function (state, item) {
      return state || (item.id === unit.id) || self.isSubUnitOf.call(item, unit, depth + 1);
    }, false);
  };

  /**
   * @method
   * @param unit {String/veda.IndividualModel} Super unit uri or individual.
   * @return {veda.IndividualModel | false }.
   */
  this.getChief = function (ChiefId, depth) {
    depth = depth || 0;
    var self = this;
    var ChiefId = ChiefId || this.id;
    if ( (this.hasValue("v-s:hasChief") || depth > 16) && this["v-s:hasChief"][0].id !== ChiefId ) {
      return this["v-s:hasChief"][0];
    }
    return this["v-s:parentUnit"].reduce(function (state, item) {
      return state || self.getChiefForEmployee.call(item, ChiefId, depth + 1);
    }, undefined);
  };

  /**
   * @method
   * @param unit {String/veda.IndividualModel} Super unit uri or individual.
   * @return {veda.IndividualModel | false }.
   */
  this.getOrganization = function (depth) {
    depth = depth || 0;
    var self = this;
    if ( this.is("v-s:Organization") || depth > 16) {
      return this;
    }

    return this["v-s:parentUnit"].reduce(function (state, item) {
      return state || item.getOrganization(depth + 1);
    }, undefined);
  };

  //# sourceURL=v-s:OrganizationUnitModel
  """ ;
.

# ------------------------------------------------------------ СПЕЦИФИКАЦИИ --

v-s:PsHasSubsidiaryForOrganization
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-s:Organization ;
  v-ui:forProperty v-s:hasSubsidiary ;
  v-ui:minCardinality 0 ;
  v-ui:maxCardinality 100 ;
  v-ui:rangeRestriction v-s:Subsidiary ;
.

v-s:PsTaxIdForOrganization
  rdf:type v-ui:DatatypePropertySpecification ;
  v-ui:forClass v-s:Organization ;
  v-ui:forProperty v-s:taxId ;
  v-ui:minCardinality 1 ;
  v-ui:maxCardinality 1 ;
  v-ui:regexp "^([A-Z]{2,3}[0-9]{4,}|([0-9]{10}|[0-9]{12}))$" ;
  v-ui:tooltip "Цифро-буквенное значение, минимум 6 символов. Примеры: 123456789101, KZ4438, NL123456789B11"@ru ;
  v-ui:tooltip "Alphanumeric value, 6 characters minimum. Ex: 123456789101, KZ4438, NL123456789B11"@en ;
.

# Перенести в управление контрагентами

v-s:PsHasContractorOrganization
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-s:Organization;
  v-ui:forProperty v-s:hasContractor ;
  v-ui:minCardinality 0 ;
  v-ui:maxCardinality 100 ;
  v-ui:rangeRestriction v-s:Contractor;
  rdfs:label "Спецификация свойства v-s:hasContractor для класса v-s:Organization"@ru ;
  rdfs:label "v-s:hasContractor property specification for v-s:Organization"@en ;
.

v-s:PsHasClassifierCountryOrganization
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-s:Organization;
  v-ui:forProperty v-s:hasClassifierCountry ;
  v-ui:minCardinality 1 ;
  v-ui:maxCardinality 1 ;
  v-ui:defaultValue d:Country_RUS;
  rdfs:label "Спецификация свойства v-s:hasClassifierCountry для класса v-s:Organization"@ru ;
  rdfs:label "v-s:hasClassifierCountry property specification for v-s:Organization"@en ;
.

v-s:PslabelForOrganization
  rdf:type v-ui:PropertySpecification ;
  v-ui:forClass v-s:Organization ;
  v-ui:forProperty rdfs:label ;
  v-ui:forProperty v-s:shortLabel;
  v-ui:forProperty v-s:legalAddress;
  v-ui:forProperty v-s:postalAddress;
  v-ui:minCardinality 1 ;
  v-ui:maxCardinality 100 ;
  rdfs:label "Спецификация свойств rdfs:label, v-s:shortLabel, v-s:legalAddress, v-s:postalAddress для класса v-s:Organization"@ru ;
  rdfs:label "rdfs:label, v-s:shortLabel, v-s:legalAddress, v-s:postalAddress property specification for v-s:Organization"@en ;
.

v-s:taxRegistrationCauseForOrganization
  rdf:type v-ui:PropertySpecification ;
  v-ui:forClass v-s:Organization ;
  v-ui:forProperty v-s:taxRegistrationCause;
  v-ui:minCardinality 0 ;
  v-ui:maxCardinality 1;
  v-ui:regexp "^[0-9]{9}$";
  rdfs:label "Спецификация свойств v-s:taxRegistrationCause для класса v-s:Organization"@ru ;
  rdfs:label "v-s:taxRegistrationCause property specification for v-s:Organization"@en ;
  v-ui:tooltip "Числовое значение, 9 символов, например: 123456789"@ru ;
  v-ui:tooltip "Numeric value, 9 characters, i.e. 123456789"@en ;
.

v-s:PsContractorProfileDateToFact
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-s:Organization ;
  v-ui:forProperty v-s:dateToFact ;

  rdfs:label "Спецификация к свойству v-s:dateToFact для класса v-s:ContractorProfile"@ru ;
  rdfs:label "Spec for property v-s:dateToFact for class v-s:ContractorProfile"@en ;
  v-ui:placeholder "Дата ликвидации юр лица"@ru ;
  v-ui:placeholder "Registered legal persons"@en ;
.

v-s:PsContractorProfileDateFromFact
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-s:Organization ;
  v-ui:forProperty v-s:dateFromFact ;
  v-ui:placeholder "Дата регистрации юр лица"@ru ;
  v-ui:placeholder "Registered legal persons"@en ;
  rdfs:label "Спецификация к свойству v-s:dateFromFact для класса v-s:ContractorProfile"@ru ;
  rdfs:label "Spec for property v-s:dateFromFact for class v-s:ContractorProfile"@en ;
.

# ------------------------------------------------------------ СТРОКИ --

v-s:NonUniqueTaxId
  rdf:type v-s:Bundle ;
  rdfs:label "Сообщение не уникальный ИНН"@ru ;
  rdfs:label "Non unique tax id message"@en ;
  rdfs:comment "Организация с таким ИНН уже существует"@ru ;
  rdfs:comment "Organization with this tax number already exists"@en ;
.
v-s:ForSafeTaxId
  rdf:type v-s:Bundle ;
  rdfs:label "Сообщение не уникальный ИНН"@ru ;
  rdfs:label "Non unique tax id message"@en ;
  rdfs:comment "Нельзя создать огранизацию с таким ИНН"@ru ;
  rdfs:comment "Нельзя создать огранизацию с таким ИНН"@en ;
.
v-s:LegalEntityExistencePeriodBundle
  rdf:type v-s:Bundle ;
  rdfs:label "Период существования юридического лица"@ru ;
  rdfs:label "Legal entity existence period"@en ;
.
v-s:AddProfile
  rdf:type v-s:Bundle ;
  rdfs:label "Создать досье"@ru ;
  rdfs:label "Add profile"@en ;
.
v-s:AddSubsidiary
  rdf:type v-s:Bundle ;
  rdfs:label "Добавить филиал"@ru ;
  rdfs:label "Add subsidiary"@en ;
.

# ------------------------------------------------------------ ШАБЛОНЫ --

v-s:OrganizationTemplate
  rdf:type v-ui:ClassTemplate ;
  v-ui:forClass v-s:Organization ;
  rdfs:label "Шаблон для класса v-s:Organization"@ru ;
  rdfs:label "Template for v-s:Organization class"@en ;
  v-ui:template """
<script>
  var _class = new veda.IndividualModel("v-s:Subsidiary");
  if ( !_class.rights.hasValue("v-s:canCreate", true) || !individual.rights.hasValue("v-s:canUpdate", true)) {
    $("#add-subsidiary", template).remove();
  }

  var prevTaxId = individual.hasValue("v-s:taxId") && individual["v-s:taxId"][0].toString();

  // Validation
  template.on("validate", function () {
    var result = {},
        regexp;
    if ( individual.hasValue("v-s:hasClassifierCountry", new veda.IndividualModel("d:Country_RUS")) && individual.hasValue("v-s:hasClassifierLegalForm", new veda.IndividualModel("d:OKOPF_50102")) ){
      regexp = /^([0-9]{12})$/gi;
    } else if ( individual.hasValue("v-s:hasClassifierCountry", new veda.IndividualModel("d:Country_RUS")) ) {
      regexp = /^([0-9]{10})$/gi;
    } else if ( individual.hasValue("v-s:hasClassifierCountry", new veda.IndividualModel("d:Country_NLD")) ){
      regexp = /^[A-Z]{1,3}[0-9]{9}[B]{1}[0-9]{2}$/gi;
    } else if ( individual.hasValue("v-s:hasClassifierCountry") ) {
      regexp = /^[A-Z]{1,3}[0-9]{4,}$/gi;
    }
    if ( !individual.hasValue("v-s:taxId") ) {
      result["v-s:taxId"] = {
        state: false,
        cause: ["v-ui:minCardinality"]
      }
    } else {

      // Check regexp
      var taxId = individual["v-s:taxId"][0].toString();
      if(taxId != '0000000000' && taxId != '000000000000'){
        result["v-s:taxId"] = {
          state: regexp.test( taxId ),
          cause: ["v-ui:regexp"]
        }
      } else {
        result["v-s:taxId"] = {
        state: false,
        cause: ["v-s:ForSafeTaxId"]
        }
      }


      // Check unique
      var newTaxId = individual.hasValue("v-s:taxId") && individual["v-s:taxId"][0].toString();
      if ( prevTaxId !== newTaxId ) { prevTaxId = newTaxId; }
      if ( result["v-s:taxId"].state ) {
        var tmp = query(veda.ticket, "'rdf:type'==='v-s:Organization' && 'v-s:taxId'=='" + taxId + "'").result;
        result["v-s:taxId"] = {
          state: (!tmp.length || tmp[0] === individual.id),
          cause: ["v-s:NonUniqueTaxId"]
        }
      }
    }
    // Если значение поля v-s:hasClassifierCountry=d:Country_RUS то поле v-s:hasClassifierLegalForm Обязательное
    if (individual.hasValue("v-s:hasClassifierCountry", new veda.IndividualModel("d:Country_RUS"))) {
      result["v-s:hasClassifierLegalForm"] = {
        state: individual.hasValue("v-s:hasClassifierLegalForm"),
        cause: ["v-ui:minCardinality"]
      }
    }
    // Если значение поля v-s:hasClassifierCountry=d:Country_RUS и поле v-s:hasClassifierLegalForm=d:OKOPF_50102 то поле v-s:taxRegistrationCause должно быть обязательным.
    if (individual.hasValue("v-s:hasClassifierCountry", "d:Country_RUS") && !individual.hasValue("v-s:hasClassifierLegalForm", "d:OKOPF_50102") && !individual.hasValue("v-s:hasClassifierLegalForm", "d:OKOPF_50000") ) {
      result["v-s:taxRegistrationCause"] = {
        state: /^[0-9]{9}$/.test(individual["v-s:taxRegistrationCause"][0]),
        cause: ["v-ui:regexp"]
      }
    }
    template.trigger("validated", result);
  });

  //# sourceURL=v-s:OrganizationTemplate_pre
</script>
<div>
  <div class="container sheet">
    <h2>
      <span about="v-s:Organization" property="rdfs:label"></span>
      <small about="@" property="rdfs:label"></small>
    </h2>
    <hr>
    <div class="row">
      <div class="col-md-4">
        <em about="v-s:shortLabel" property="rdfs:label"></em>
        <div property="v-s:shortLabel" class="view -edit -search"></div>
        <veda-control data-type="string" property="v-s:shortLabel" class="-view edit search"></veda-control>
      </div>
      <div class="col-md-8">
        <em about="rdfs:label" property="rdfs:label"></em>
        <div property="rdfs:label" class="view -edit -search"></div>
        <veda-control data-type="string" property="rdfs:label" class="-view edit search"></veda-control>
      </div>
    </div>
    <hr class="view -edit -search">
    <div class="row">
      <div class="col-md-4">
        <em about="v-s:hasClassifierCountry" property="rdfs:label"></em>
        <div rel="v-s:hasClassifierCountry" class="view -edit search" data-template="v-ui:LabelTemplate"></div>
        <veda-control data-type="link" rel="v-s:hasClassifierCountry" class="-view edit search fulltext" data-template="{individual['v-s:shortLabel'][0] + ' | ' + individual['rdfs:label'][0]}"></veda-control>
      </div>
      <div class="col-md-8">
        <em about="v-s:hasClassifierLegalForm" property="rdfs:label"></em>
        <div rel="v-s:hasClassifierLegalForm" class="view -edit search" data-template="v-ui:LabelTemplate"></div>
        <veda-control data-type="link" rel="v-s:hasClassifierLegalForm" class="-view edit search fulltext dropdown"></veda-control>
      </div>
    </div>
    <hr class="view -edit -search">
    <div class="row">
      <div class="col-sm-4">
        <em about="v-s:taxId" property="rdfs:label"></em>
        <div property="v-s:taxId" class="view -edit -search"></div>
        <veda-control data-type="string" property="v-s:taxId" class="-view edit search"></veda-control>
      </div>
      <div class="col-sm-4">
        <em about="v-s:taxRegistrationCause" property="rdfs:label"></em>
        <div property="v-s:taxRegistrationCause" class="view -edit -search"></div>
        <veda-control data-type="string" property="v-s:taxRegistrationCause" class="-view edit search"></veda-control>
      </div>
      <div class="col-sm-4">
        <em about="v-s:taxRegistrationNumber" property="rdfs:label"></em>
        <div property="v-s:taxRegistrationNumber" class="view -edit -search"></div>
        <veda-control data-type="string" property="v-s:taxRegistrationNumber" class="-view edit search"></veda-control>
      </div>
    </div>

    <hr class="view -edit -search">

    <div class="row">
      <div class="col-sm-4">
        <em about="v-s:legalAddress" property="rdfs:label"></em>
        <div property="v-s:legalAddress" class="view -edit -search"></div>
        <veda-control data-type="text" rows="3" property="v-s:legalAddress" class="-view edit search"></veda-control>
      </div>
      <div class="col-sm-4">
        <em about="v-s:postalAddress" property="rdfs:label"></em>
        <div property="v-s:postalAddress" class="view -edit -search"></div>
        <veda-control data-type="text" rows="3" property="v-s:postalAddress" class="-view edit search"></veda-control>
      </div>
      <div class="col-sm-4">
        <em about="v-s:mailbox" property="rdfs:label"></em>
        <div property="v-s:mailbox" class="view -edit -search"></div>
        <veda-control data-type="text" rows="3" property="v-s:mailbox" class="-view edit search"></veda-control>
      </div>
    </div>

    <hr class="view -edit -search">

    <em about="v-s:LegalEntityExistencePeriodBundle" property="rdfs:label"></em>
    <div class="row">
      <div class="col-md-4">
        <div property="v-s:dateFromFact" class="view -edit -search"></div>
        <veda-control property="v-s:dateFromFact" data-type="date" class="-view edit search"></veda-control>
      </div>
      <div class="col-md-4">
        <div property="v-s:dateToFact" class="view -edit -search"></div>
        <veda-control property="v-s:dateToFact" data-type="date" class="-view edit search"></veda-control>
      </div>
    </div>

    <em about="v-s:hasSubsidiary" property="rdfs:label"></em>
    <table class="table table-condensed table-bordered">
      <thead>
        <tr class="view -edit -search active">
          <th width="1%"><span class="glyphicon glyphicon-search"></th>
          <th about="v-s:shortLabel" property="rdfs:label"></th>
          <th about="v-s:taxRegistrationCause" property="rdfs:label"></th>
          <th about="v-s:postalAddress" property="rdfs:label"></th>
        </tr>
      </thead>
      <tbody rel="v-s:hasSubsidiary" data-embedded="true">
        <tr>
          <td about="@" data-template="v-ui:IconModalTemplate"></td>
          <td>
            <div property="v-s:shortLabel" class="view -edit -search"></div>
            <veda-control property="v-s:shortLabel" data-type="string" class="-view edit search"></div>
          </td>
          <td>
            <div property="v-s:taxRegistrationCause" class="view -edit -search"></div>
            <veda-control property="v-s:taxRegistrationCause" data-type="string" class="-view edit search"></div>
          </td>
          <td>
            <div property="v-s:postalAddress" class="view -edit -search"></div>
            <veda-control property="v-s:postalAddress" data-type="string" class="-view edit search"></div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="view -edit -search">
      <button class="btn btn-success" id="add-subsidiary">
        <span class="glyphicon glyphicon-zoom-in"></span>
        <span about="v-s:AddSubsidiary" property="rdfs:label"></span>
      </button>
    </div>

    <em about="v-s:HeadOrganization" property="rdfs:label"></em>
    <div rel="v-s:parentUnit" class="view -edit -search" data-template="v-ui:LabelTemplate"></div>
    <veda-control data-type="link" rel="v-s:parentUnit" class="-view edit search fulltext"></veda-control>
    <hr class="view -edit -search">

    <div about="@" data-template="v-ui:SystemPropertiesTemplate" data-embedded="true"></div>
    <br>
    <!-- BUTTONS -->
    <div class="actions">
      <span about="@" data-template="v-ui:StandardButtonsTemplate" data-embedded="true" data-buttons="edit save cancel delete journal"></span>
    </div>
  </div>
  <br>
  <div about="@" class="container sheet view edit -search" data-template="v-s:LinksTemplate" data-embedded="true"></div>
  <br>
  <div about="@" class="container sheet view -edit -search" data-template="v-s:CommentsTemplate"></div>
</div>
<script>
  //Генерация Uri
  function makeUri () {
    var shortLabel = individual["v-s:hasClassifierCountry"][0]["v-s:shortLabel"] ;
    var taxId = individual["v-s:taxId"] ;
    if ( individual.hasValue("v-s:hasClassifierCountry", "d:Country_RUS") && individual.isNew() ){
      individual.id = "d:org_"+ shortLabel + taxId ;
    } else if ( individual.isNew() ) {
      individual.id = "d:org_"+ taxId ;
    }
  }

  individual.on("beforeSave", makeUri);
  template.one("remove", function () {
    individual.off("beforeSave", makeUri);
  });

  $("#add-subsidiary", template).click(function () {
    var modal = $("#notification-modal-template").html();
    modal = $(modal);
    modal.modal({"show": false});
    $("body").append(modal);
    modal.modal("show");
    template.one("remove", function () {
      modal.modal("hide").remove();
    });
    var cntr = $(".modal-body", modal),
        _class = new veda.IndividualModel("v-s:Subsidiary"),
        subsidiary = new veda.IndividualModel(),
        tmpl = new veda.IndividualModel("v-s:SubsidiaryTemplate");
    subsidiary["rdf:type"] = [_class];
    subsidiary["v-s:backwardTarget"] = [individual];
    subsidiary["v-s:backwardProperty"] = [new veda.IndividualModel("v-s:hasSubsidiary")];
    subsidiary["v-s:canRead"] = [ true ];
    subsidiary.present(cntr, tmpl, "edit");
    subsidiary.one("beforeReset", function () {
      modal.modal("hide").remove();
    });
    subsidiary.one("afterSave", function () {
      modal.modal("hide").remove();
    });
  });
  //# sourceURL=v-s:OrganizationTemplate_post
</script>
  """ ;
.

v-s:SubsidiaryTemplate
  rdf:type v-ui:ClassTemplate ;
  v-ui:forClass v-s:Subsidiary ;
  rdfs:label "Шаблон для класса v-s:Subsidiary"@ru ;
  rdfs:label "Template for v-s:Subsidiary class"@en ;
  v-ui:template """
<div class="container sheet">
  <h2>
    <span about="v-s:Subsidiary" property="rdfs:label"></span>
    <small about="@" property="rdfs:label"></small>
  </h2>
  <span about="@" data-template="v-ui:RabbitHole"></span>
  <hr>
  <div id="mainProperties">
    <em about="v-s:parentOrganization" property="rdfs:label"></em>
    <span about="@" rel="v-s:backwardTarget" data-template="v-ui:LabelLinkTemplate"></span>


    <em about="v-s:parentUnit" property="rdfs:label"></em>
    <div rel="v-s:parentUnit" class="view -edit -search" data-template="v-ui:LabelLinkTemplate"></div>
    <veda-control data-type="link" rel="v-s:parentUnit" class="-view edit search fulltext"></veda-control>

    <hr class="view -edit -search">

    <em about="rdfs:label" property="rdfs:label"></em>
    <div property="rdfs:label" class="view -edit -search"></div>
    <veda-control data-type="string" property="rdfs:label" class="-view edit search"></veda-control>

    <em about="v-s:shortLabel" property="rdfs:label"></em>
    <div property="v-s:shortLabel" class="view -edit -search"></div>
    <veda-control data-type="string" property="v-s:shortLabel" class="-view edit search"></veda-control>

    <hr class="view -edit -search">

    <div class="row">
      <div class="col-sm-4">
        <em about="v-s:taxRegistrationCause" property="rdfs:label"></em>
        <div property="v-s:taxRegistrationCause" class="view -edit -search"></div>
        <veda-control data-type="string" property="v-s:taxRegistrationCause" class="-view edit search"></veda-control>
      </div>
    </div>

    <hr class="view -edit -search">

    <em about="v-s:postalAddress" property="rdfs:label"></em>
    <div property="v-s:postalAddress" class="view -edit -search"></div>
    <veda-control data-type="text" rows="3" property="v-s:postalAddress" class="-view edit search"></veda-control>

    <hr class="view -edit -search">

    <em about="rdfs:comment" property="rdfs:label"></em>
    <div property="rdfs:comment" class="view -edit -search"></div>
    <veda-control data-type="text" rows="3" property="rdfs:comment" class="-view edit search"></veda-control>
  </div>

  <hr>
  <div about="@" data-template="v-ui:SystemPropertiesTemplate" data-embedded="true"></div>
  <br>
  <!-- BUTTONS -->
  <div class="actions">
    <span about="@" data-template="v-ui:StandardButtonsTemplate" data-embedded="true" data-buttons="edit save cancel delete"></span>
  </div>
</div>
  """ ;
.

v-s:DepartmentTemplate
  rdf:type v-ui:ClassTemplate ;
  v-ui:forClass v-s:Department ;
  rdfs:label "Шаблон для класса v-s:Department"@ru ;
  rdfs:label "Template for v-s:Department class"@en ;
  v-ui:template """
<div class="container sheet">
  <h2>
    <span about="v-s:Department" property="rdfs:label"></span>
    <small about="@" property="rdfs:label"></small>
  </h2>
  <hr>
  <div id="mainProperties">
    <em about="v-s:parentOrganization" property="rdfs:label"></em>
    <div rel="v-s:parentOrganization" class="view -edit -search">
      <a href="#/@">
        <span property="v-s:taxId"></span> - <span property="v-s:shortLabel"></span> - <span property="v-s:legalAddress"></span>
      </a>
    </div>
    <veda-control data-type="link" rel="v-s:parentOrganization" class="-view edit search fulltext"></veda-control>
    <em about="v-s:parentUnit" property="rdfs:label"></em>
    <div rel="v-s:parentUnit" class="view -edit -search" data-template="v-ui:LabelLinkTemplate"></div>
    <veda-control data-type="link" rel="v-s:parentUnit" class="-view edit search fulltext"></veda-control>
    <hr class="view -edit -search">
    <em about="rdfs:label" property="rdfs:label"></em>
    <div property="rdfs:label" class="view -edit -search"></div>
    <veda-control data-type="string" property="rdfs:label" class="-view edit search"></veda-control>
    <em about="v-s:shortLabel" property="rdfs:label"></em>
    <div property="v-s:shortLabel" class="view -edit -search"></div>
    <veda-control data-type="string" property="v-s:shortLabel" class="-view edit search"></veda-control>
    <hr class="view -edit -search">
    <div class="row">
      <div class="col-sm-6">
        <em about="v-s:hasChief" property="rdfs:label"></em>
        <div rel="v-s:hasChief" class="view -edit search" data-template="v-ui:LabelTemplate"></div>
        <veda-control data-type="link" rel="v-s:hasChief" class="-view edit search fulltext"></veda-control>
      </div>
      <div class="col-sm-6">
        <em about="v-s:hasFunctionalChief" property="rdfs:label"></em>
        <div rel="v-s:hasFunctionalChief" class="view -edit search" data-template="v-ui:LabelTemplate"></div>
        <veda-control data-type="link" rel="v-s:hasFunctionalChief" class="-view edit search fulltext"></veda-control>
      </div>
    </div>
    <hr class="view -edit -search">
    <em about="v-s:postalAddress" property="rdfs:label"></em>
    <div property="v-s:postalAddress" class="view -edit -search"></div>
    <veda-control data-type="text" rows="3" property="v-s:postalAddress" class="-view edit search"></veda-control>
  </div>

  <hr>
  <div about="@" data-template="v-ui:SystemPropertiesTemplate" data-embedded="true"></div>
  <br>
  <!-- BUTTONS -->
  <div class="actions">
    <span about="@" data-template="v-ui:StandardButtonsTemplate" data-embedded="true" data-buttons="edit save cancel delete journal"></span>
  </div>
</div>
  """ ;
.
