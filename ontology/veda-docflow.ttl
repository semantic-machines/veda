@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix v-wf: <http://semantic-machines.com/veda/veda-workflow/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix cfg: <http://semantic-machines.com/veda/config/> .


@prefix v-df: <http://semantic-machines.com/veda/veda-docflow/> .
<http://semantic-machines.com/veda/veda-docflow>
  rdfs:isDefinedBy v-df: ;
  rdf:type owl:Ontology ;
  rdfs:label "Veda system docflow ontology"@en ;
  rdfs:label "Онтология процессов документооборота системы Veda"@ru ;
#  owl:DversionInfo "1.2" ;
  v-s:loadPriority 9 ;
.

v-df:ApprovalTask
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:DecisionForm ;
  rdfs:isDefinedBy v-df: ;
  rdfs:label "Approval document"@en ;
  rdfs:label "Утвердить документ"@ru ;
  rdfs:comment "Форма ответа на задачу утверждения"@ru ;
.
v-df:PsApprovalTask_from
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-df:ApprovalTask ;
  v-ui:forProperty v-wf:from ;
  v-ui:maxCardinality 1 ;
  v-ui:minCardinality 0 ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Appointment')"^^xsd:string ;
  v-ui:tooltip "Non-required, single value. Link to instance of Appointment class"@en ;
  v-ui:tooltip "Необязательно к заполнению, единичное значение. Ссылка на объект класса Назначение."@ru ;
  rdfs:label "Task sender property specification for Approval task class"@en ;
  rdfs:label "Спецификация отправителя задачи для класса Форма задачи утверждение"@ru ;
.
v-df:PsApprovalTask_dateGiven
  rdf:type v-ui:DatatypePropertySpecification ;
  v-ui:forClass v-df:ApprovalTask ;
  v-ui:forProperty v-wf:dateGiven ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
  v-ui:tooltip "Required, single value. Format: 2011-08-19"@en ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Формат ввода: 2011-08-19"@ru ;
  rdfs:label "Preferences property specification for dateFrom in AgShedule class"@en ;
  rdfs:label "Спецификация даты заседания технического комитета для класса AgShedule"@ru ;
.

v-df:approvalTask_decisionKind
  rdf:type owl:DatatypeProperty ;
  rdfs:label "Примите решение по задаче"@ru ;
  rdfs:label "Take decision by task"@en ;
  rdfs:comment "Виды решений по задаче утверждения"@ru ;
  rdfs:domain v-df:ApprovalTask ;
  rdfs:range xsd:string ;
.
v-df:PsApprovalTask_decisionKind
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация видов решения задачи утверждения"@ru ;
  rdfs:label "Specification for Approval task decision kind property"@en ;
  v-ui:forClass v-df:ApprovalTask ;
  v-ui:forProperty v-df:approvalTask_decisionKind ;
  v-ui:optionValue "Утверждено"^^xsd:string ;
  v-ui:optionValue "Отложено"^^xsd:string ;
  v-ui:optionValue "Отклонено"^^xsd:string ;
  v-ui:optionValue "На доработку"^^xsd:string ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
.

v-wf:possibleDecisionClass
  rdfs:domain v-df:ApprovalTask ;
.

# -- ШАБЛОН ФОРМЫ ЗАДАЧИ УТВЕРЖДЕНИЯ --
v-df:ApprovalTaskTemplate
  rdf:type v-ui:ClassTemplate ;
  v-ui:forClass v-df:ApprovalTask ;
  rdfs:label "Approval task template"@en ;
  rdfs:label "Шаблон формы задачи утверждения"@ru ;
  v-ui:template """
<div class="container-fluid">
    <div class="panel panel-default">
      <div class="panel-body">

      <div class="row">
        <div class="col-md-12">
        <h3><span about="v-df:ApprovalTask" property="rdfs:label"></span>: <span about="@" property="rdfs:label"></span></h3>
        </div>
      </div>
      <br>

      <div class="row">
        <div class="col-md-3">
          <em about="v-wf:from" property="rdfs:label"></em>
        </div>
        <div class="col-md-3">
          <div rel="v-wf:from" data-template="v-ui:LabelTemplate" class="view -edit -search"></div>
          <veda-control rel="v-wf:from" data-type="link" class="-view edit search fullsearch fulltext"></veda-control>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <em about="v-wf:onDocument" property="rdfs:label"></em>
        </div>
        <div class="col-md-3">
          <div rel="v-wf:onDocument" data-template="v-ui:LabelTemplate" class="view -edit -search"></div>
          <veda-control rel="v-wf:onDocument" data-type="link" class="-view edit search fullsearch fulltext"></veda-control>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <em about="v-wf:dateGiven" property="rdfs:label"></em>
        </div>
        <div class="col-md-3">
          <div property="v-wf:dateGiven" class="view -edit -search"></div>
          <veda-control property="v-wf:dateGiven" data-type="dateTime" class="-view edit search fullsearch fulltext"></veda-control>
        </div>
      </div>
      <hr class="margin-sm">

      <div class="row">
        <div class="col-md-3">
          <em about="v-df:approvalTask_decisionKind" property="rdfs:label"></em>
        </div>
        <div class="col-md-3">
          <veda-control property="v-df:approvalTask_decisionKind" data-type="radio"></veda-control>
        </div>
      </div>

      <div class="row">
        <div class="col-md-3">
          <em about="v-wf:possibleDecisionClass" property="rdfs:label"></em>
        </div>
        <div class="col-md-3">
          <veda-control rel="v-wf:possibleDecisionClass" data-type="radio"></veda-control>
        </div>
      </div>


      <br><br>
      <div class="well well-sm">
        <button type="button" class="action btn btn-warning" id="send" about="v-s:Send" property="rdfs:label"/>
        <button type="button" class="action btn btn-primary view -edit -search" id="edit" about="v-s:Edit" property="rdfs:label"/>
        <button type="button" class="action btn btn-success -view edit -search" id="save" about="v-s:Save" property="rdfs:label"/>
        <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
        <button type="button" class="action btn btn-link view edit -search" id="delete" about="v-s:Delete" property="rdfs:label"/>
      </div>

    </div>
  </div>
</div>
""" ;
.


# -- СТАРТОВЫЕ ФОРМЫ СТАНДРАТНЫХ ЗАДАЧ --

v-df:QuestionRouteStartForm
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:StartForm ;
  rdfs:isDefinedBy v-df: ;
  rdfs:label "Question document"@en ;
  rdfs:label "Задать вопрос"@ru ;
  rdfs:comment "Задача задать вопрос"@ru ;
.
v-df:InstructionRouteStartForm
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:StartForm ;
  rdfs:isDefinedBy v-df: ;
  rdfs:label "Instruction document"@en ;
  rdfs:label "Исполнить поручение"@ru ;
  rdfs:comment "Задача bcgjkybnm gjhextybt"@ru ;
.
v-df:TaskRouteStartForm
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:StartForm ;
  rdfs:isDefinedBy v-df: ;
  rdfs:label "Task document"@en ;
  rdfs:label "Выдать задачу"@ru ;
  rdfs:comment "Задача выдать задачу"@ru ;
.

v-s:hasAppointment
  rdfs:domain v-df:QuestionRouteStartForm ;
  rdfs:domain v-df:InstructionRouteStartForm ;
  rdfs:domain v-df:TaskRouteStartForm ;
.
v-df:PsStartForm_hasAppointmentTo
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-df:QuestionRouteStartForm ;
  v-ui:forClass v-df:InstructionRouteStartForm ;
  v-ui:forClass v-df:TaskRouteStartForm ;
  v-ui:forProperty v-s:hasAppointment ;
  v-ui:maxCardinality 10 ;
  v-ui:minCardinality 0 ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Appointment')"^^xsd:string ;
  v-ui:tooltip "Non-required, single value. Link to instance of Appointment class"@en ;
  v-ui:tooltip "Необязательно к заполнению, единичное значение. Ссылка на объект класса Назначение."@ru ;
  rdfs:label "Task sender property specification for Question task class"@en ;
  rdfs:label "Спецификация исполнителя задачи для класса Стартовая форма задачи question"@ru ;
.

v-s:dateTo
  rdfs:domain v-df:QuestionRouteStartForm ;
  rdfs:domain v-df:InstructionRouteStartForm ;
  rdfs:domain v-df:TaskRouteStartForm ;
.
v-df:PsStartForm_dateTo
  rdf:type v-ui:DatatypePropertySpecification ;
  v-ui:forClass v-df:QuestionRouteStartForm ;
  v-ui:forClass v-df:InstructionRouteStartForm ;
  v-ui:forClass v-df:TaskRouteStartForm ;
  v-ui:forProperty v-s:dateTo ;
  v-ui:minCardinality "0"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
  v-ui:tooltip "Required, single value. Format: 2011-08-19"@en ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Формат ввода: 2011-08-19"@ru ;
  rdfs:label "Preferences property specification for dateFrom QuestionRouteStartForm class"@en ;
  rdfs:label "Спецификация контрольной даты для класса QuestionRouteStartForm"@ru ;
.
v-s:count
  rdfs:domain v-df:QuestionRouteStartForm ;
  rdfs:domain v-df:InstructionRouteStartForm ;
  rdfs:domain v-df:TaskRouteStartForm ;
.
v-df:PsCountForStartForm
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация количества дней для класса QuestionRouteStartForm"@ru ;
  rdfs:label "Count day property specification for QuestionRouteStartForm"@en ;
  v-ui:forClass v-df:QuestionRouteStartForm ;
  v-ui:forClass v-df:InstructionRouteStartForm ;
  v-ui:forClass v-df:TaskRouteStartForm ;
  v-ui:forProperty v-s:count ;
  v-ui:maxCardinality 1 ;
  v-ui:minCardinality 0 ;
  v-ui:tooltip "Необязательно к заполнению, единичное значение. Целое число."@ru ;
  v-ui:tooltip "Required, single value. Integer"@en ;
.
v-wf:processedDocument
  rdfs:domain v-df:QuestionRouteStartForm ;
  rdfs:domain v-df:InstructionRouteStartForm ;
  rdfs:domain v-df:TaskRouteStartForm ;
.
v-df:PsStartForm_processedDocument
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-df:QuestionRouteStartForm ;
  v-ui:forClass v-df:InstructionRouteStartForm ;
  v-ui:forClass v-df:TaskRouteStartForm ;
  v-ui:forProperty v-wf:processedDocument ;
  v-ui:maxCardinality 1 ;
  v-ui:minCardinality 0 ;
  v-ui:tooltip "Non-required, multy value. Link"@en ;
  v-ui:tooltip "Необязательно к заполнению, множественное значение. Ссылка на объект."@ru ;
  rdfs:label "Task by document property specification for QuestionRouteStartForm class"@en ;
  rdfs:label "Спецификация ссылки на документ для класса Стартовая форма задачи задать вопрос"@ru ;
.
v-df:PsStartForm_comment
  rdf:type v-ui:PropertySpecification ;
  v-ui:forClass v-df:QuestionRouteStartForm ;
  v-ui:forClass v-df:InstructionRouteStartForm ;
  v-ui:forClass v-df:TaskRouteStartForm ;
  v-ui:forProperty rdfs:comment ;
  rdfs:label "Спецификация к свойству комментарий для QuestionRouteStartForm"@ru ;
  rdfs:label "Spec for comment for QuestionRouteStartFormclass"@en ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
.


# -- ШАБЛОН ФОРМЫ ЗАДАЧИ ЗАДАТЬ ВОПРОС --
v-df:QuestionRouteStartFormTemplate
  rdf:type v-ui:ClassTemplate ;
  v-ui:forClass v-df:QuestionRouteStartForm ;
  rdfs:label "QuestionRouteStartForm template"@en ;
  rdfs:label "Шаблон формы задачи задать вопрос"@ru ;
  v-ui:template """
<div class="container">
  <div class="row">
    <div class="col-md-12">
    <h3><span about="v-df:QuestionRouteStartForm" property="rdfs:label"></span>: <span about="@" property="rdfs:label"></span></h3>
    </div>
  </div>
  <em about="v-wf:processedDocument" property="rdfs:label"></em>
  <div about="@" rel="v-wf:processedDocument" data-template="v-ui:ClassNameLabelLinkTemplate" class="view edit search"></div>
  <div class="row">
    <div class="col-md-6">
      <em about="v-s:responsible" property="rdfs:label"></em>
      <div rel="v-s:hasAppointment" data-template="v-ui:LabelTemplate" class="view edit -search"></div>
      <veda-control rel="v-s:hasAppointment" data-type="link" class="-view edit search fulltext"></veda-control>
    </div>
    <div class="col-md-4">
      <em about="v-s:dateTo" property="rdfs:label"></em>
      <div property="v-s:dateTo" class="view -edit -search"></div>
      <veda-control property="v-s:dateTo" data-type="dateTime" class="-view edit search"></veda-control>
    </div>
    <div class="col-md-2">
      <em about="v-s:count" property="rdfs:label"></em>
      <div property="v-s:count" class="view -edit -search"></div>
      <veda-control property="v-s:count" data-type="integer" class="-view edit search"></veda-control>
    </div>
  </div>
  <em about="rdfs:comment" property="rdfs:label"></em>
  <div property="rdfs:comment" class="view -edit -search"></div>
  <veda-control property="rdfs:comment" rows="3" data-type="text" class="-view edit search"></veda-control>
  <br>
  <div class="well well-sm">
    <button type="button" class="action btn btn-warning" id="send" about="v-s:Send" property="rdfs:label"/>
    <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
  </div>
</div>
<script>
  $("#cancel", template).click(function () {
    var modal = template.closest(".modal");
    if (modal.length) {
      modal.modal("hide");
    } else {
      window.history.back();
    }
  });
  //# sourceURL=v-df:QuestionRouteStartFormTemplate
</script>
""" ;
.

# -- ШАБЛОН ФОРМЫ ЗАДАЧИ ИСПОЛНИТЬ ПОРУЧЕНИЕ --
v-df:InstructionRouteStartFormTemplate
  rdf:type v-ui:ClassTemplate ;
  v-ui:forClass v-df:InstructionRouteStartForm ;
  rdfs:label "InstructionRouteStartForm template"@en ;
  rdfs:label "Шаблон формы задачи исполнить поручение"@ru ;
  v-ui:template """
<div class="container">
  <div class="row">
    <div class="col-md-12">
    <h3><span about="v-df:InstructionRouteStartForm" property="rdfs:label"></span>: <span about="@" property="rdfs:label"></span></h3>
    </div>
  </div>
  <em about="v-wf:processedDocument" property="rdfs:label"></em>
  <div about="@" rel="v-wf:processedDocument" data-template="v-ui:ClassNameLabelLinkTemplate" class="view edit search"></div>
  <div class="row">
    <div class="col-md-6">
      <em about="v-s:responsible" property="rdfs:label"></em>
      <div rel="v-s:hasAppointment" data-template="v-ui:LabelTemplate" class="view edit -search"></div>
      <veda-control rel="v-s:hasAppointment" data-type="link" class="-view edit search fulltext"></veda-control>
    </div>
    <div class="col-md-4">
      <em about="v-s:dateTo" property="rdfs:label"></em>
      <div property="v-s:dateTo" class="view -edit -search"></div>
      <veda-control property="v-s:dateTo" data-type="dateTime" class="-view edit search"></veda-control>
    </div>
    <div class="col-md-2">
      <em about="v-s:count" property="rdfs:label"></em>
      <div property="v-s:count" class="view -edit -search"></div>
      <veda-control property="v-s:count" data-type="integer" class="-view edit search"></veda-control>
    </div>
  </div>
  <em about="rdfs:comment" property="rdfs:label"></em>
  <div property="rdfs:comment" class="view -edit -search"></div>
  <veda-control property="rdfs:comment" rows="3" data-type="text" class="-view edit search"></veda-control>
  <em about="v-s:controller" property="rdfs:label"></em>
  <div rel="v-s:controller" data-template="v-ui:LabelTemplate" class="view -edit -search"></div>
  <veda-control rel="v-s:controller" data-type="link" class="-view edit search fulltext"></veda-control>
  <br>
  <div class="well well-sm">
    <button type="button" class="action btn btn-warning" id="send" about="v-s:Send" property="rdfs:label"/>
    <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
  </div>
</div>
<script>
  individual["v-s:controller"] = [ veda.appointment ? veda.appointment : veda.user ];
  $("#cancel", template).click(function () {
    var modal = template.closest(".modal");
    if (modal.length) {
      modal.modal("hide");
    } else {
      window.history.back();
    }
  });
  //# sourceURL=v-df:InstructionRouteStartFormTemplate
</script>
""" ;
.

v-df:TaskRouteStartFormTemplate
  rdf:type v-ui:ClassTemplate ;
  v-ui:forClass v-df:TaskRouteStartForm ;
  rdfs:label "TaskRouteStartForm template"@en ;
  rdfs:label "Шаблон формы задачи выдать задачу"@ru ;
  v-ui:template """
<div class="container">
  <div class="row">
    <div class="col-md-12">
    <h3><span about="v-df:TaskRouteStartForm" property="rdfs:label"></span>: <span about="@" property="rdfs:label"></span></h3>
    </div>
  </div>
  <em about="v-wf:processedDocument" property="rdfs:label"></em>
  <div about="@" rel="v-wf:processedDocument" data-template="v-ui:ClassNameLabelLinkTemplate" class="view edit search"></div>
  <div class="row">
    <div class="col-md-6">
      <em about="v-s:responsible" property="rdfs:label"></em>
      <div rel="v-s:hasAppointment" data-template="v-ui:LabelTemplate" class="view edit -search"></div>
      <veda-control rel="v-s:hasAppointment" data-type="link" class="-view edit search fulltext"></veda-control>
    </div>
    <div class="col-md-4">
      <em about="v-s:dateTo" property="rdfs:label"></em>
      <div property="v-s:dateTo" class="view -edit -search"></div>
      <veda-control property="v-s:dateTo" data-type="dateTime" class="-view edit search"></veda-control>
    </div>
    <div class="col-md-2">
      <em about="v-s:count" property="rdfs:label"></em>
      <div property="v-s:count" class="view -edit -search"></div>
      <veda-control property="v-s:count" data-type="integer" class="-view edit search"></veda-control>
    </div>
  </div>
  <em about="rdfs:comment" property="rdfs:label"></em>
  <div property="rdfs:comment" class="view -edit -search"></div>
  <veda-control property="rdfs:comment" rows="3" data-type="text" class="-view edit search"></veda-control>
  <br>
  <div class="well well-sm">
    <button type="button" class="action btn btn-warning" id="send" about="v-s:Send" property="rdfs:label"/>
    <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
  </div>
</div>
<script>
  $("#cancel", template).click(function () {
    var modal = template.closest(".modal");
    if (modal.length) {
      modal.modal("hide");
    } else {
      window.history.back();
    }
  });
  //# sourceURL=v-df:TaskRouteStartFormTemplate
</script>
""" ;
.

# -- ТРАНСФОРМАЦИЯ ИЗ ФОРМЫ ЗАДАЧИ ЗАДАТЬ ВОПРОС В СЕТЬ --
v-df:QuestionRouteStartFormToNet
  rdfs:label "Трансформация из СтФ Задать вопрос в стандартную сеть процесса"^^xsd:string;
  rdf:type v-wf:Transform ;
  v-wf:transformRule v-df:rul_QuestionTransform0 ;
  v-wf:transformRule v-df:rul_QuestionTransform1 ;
  v-wf:transformRule v-df:rul_QuestionTransform2 ;
  v-wf:transformRule v-df:rul_QuestionTransform3 ;
  v-wf:transformRule v-df:rul_QuestionTransform4 ;
  v-wf:transformRule v-df:rul_QuestionTransform5 ;
  v-wf:transformRule v-df:rul_QuestionTransform6_0 ;
  v-wf:transformRule v-df:rul_QuestionTransform6_3 ;
  v-wf:transformRule v-df:rul_QuestionTransform7 ;
  rdfs:isDefinedBy v-df: ;
.
v-df:rul_QuestionTransform0
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'startForm_id')";
.
v-df:rul_QuestionTransform1
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-wf:processedDocument')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'docId')";
.
v-df:rul_QuestionTransform2
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:hasAppointment')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor')";
.
v-df:rul_QuestionTransform3
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('rdfs:comment')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_comment')";
.
v-df:rul_QuestionTransform4
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:dateTo')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_date_to')";
.
v-df:rul_QuestionTransform5
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:creator')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'initiator')";
.
v-df:rul_QuestionTransform6_0
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionAchieved')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionRedirect')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'possible_decision')";
.
v-df:rul_QuestionTransform6_3
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 's-wf:UserTaskForm')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'decision_form_type')";
.
v-df:rul_QuestionTransform7
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putString ('v-wf:variableValue', 'Ответить на вопрос')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_action')";
.



# -- ТРАНСФОРМАЦИЯ ИЗ ФОРМЫ ЗАДАЧИ ИСПОЛНИТЬ ПОРУЧЕНИЕ В СЕТЬ --
v-df:InstructionRouteStartFormToNet
  rdfs:label "Трансформация из СтФ исполнить поручение в стандартную сеть процесса"^^xsd:string;
  rdf:type v-wf:Transform ;
  v-wf:transformRule v-df:rul_InstructionTransform0 ;
  v-wf:transformRule v-df:rul_InstructionTransform1 ;
  v-wf:transformRule v-df:rul_InstructionTransform2 ;
  v-wf:transformRule v-df:rul_InstructionTransform3 ;
  v-wf:transformRule v-df:rul_InstructionTransform4 ;
  v-wf:transformRule v-df:rul_InstructionTransform5 ;
  v-wf:transformRule v-df:rul_InstructionTransform6_0 ;
  v-wf:transformRule v-df:rul_InstructionTransform6_3 ;
  v-wf:transformRule v-df:rul_InstructionTransform7 ;
  v-wf:transformRule v-df:rul_InstructionTransform8 ;
  rdfs:isDefinedBy v-df: ;
.
v-df:rul_InstructionTransform0
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'startForm_id')";
.
v-df:rul_InstructionTransform1
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-wf:processedDocument')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'docId')";
.
v-df:rul_InstructionTransform2
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:hasAppointment')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor')";
.
v-df:rul_InstructionTransform3
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('rdfs:comment')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_comment')";
.
v-df:rul_InstructionTransform4
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:dateTo')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_date_to')";
.
v-df:rul_InstructionTransform5
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:creator')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'initiator')";
.
v-df:rul_InstructionTransform6_0
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionAchieved')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionNotPerformed')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionRedirect')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionRejected')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionNotForMe')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'possible_decision')";
.
v-df:rul_InstructionTransform6_3
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 's-wf:UserTaskForm')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'decision_form_type')";
.
v-df:rul_InstructionTransform7
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putString ('v-wf:variableValue', 'Выполнить поручение')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_action')";
.
v-df:rul_InstructionTransform8
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:controller')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'controller')";
.

# -- ТРАНСФОРМАЦИЯ ИЗ ФОРМЫ ЗАДАЧИ ВЫДАТЬ ЗАДАЧУ В СЕТЬ --
v-df:TaskRouteStartFormToNet
  rdfs:label "Трансформация из СтФ Выдать задачу в стандартную сеть процесса"^^xsd:string;
  rdf:type v-wf:Transform ;
  v-wf:transformRule v-df:rul_TaskTransform0 ;
  v-wf:transformRule v-df:rul_TaskTransform1 ;
  v-wf:transformRule v-df:rul_TaskTransform2 ;
  v-wf:transformRule v-df:rul_TaskTransform3 ;
  v-wf:transformRule v-df:rul_TaskTransform4 ;
  v-wf:transformRule v-df:rul_TaskTransform5 ;
  v-wf:transformRule v-df:rul_TaskTransform6_0 ;
  v-wf:transformRule v-df:rul_TaskTransform6_3 ;
  v-wf:transformRule v-df:rul_TaskTransform7 ;
  rdfs:isDefinedBy v-df: ;
.
v-df:rul_TaskTransform0
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'startForm_id')";
.
v-df:rul_TaskTransform1
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-wf:processedDocument')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'docId')";
.
v-df:rul_TaskTransform2
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:hasAppointment')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor')";
.
v-df:rul_TaskTransform3
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('rdfs:comment')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_comment')";
.
v-df:rul_TaskTransform4
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:dateTo')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_date_to')";
.
v-df:rul_TaskTransform5
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('v-s:creator')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putValue ('v-wf:variableValue')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'initiator')";
.
v-df:rul_TaskTransform6_0
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 'v-wf:DecisionConfirm')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'possible_decision')";
.
v-df:rul_TaskTransform6_3
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putUri ('v-wf:variableValue', 's-wf:UserTaskForm')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'decision_form_type')";
.
v-df:rul_TaskTransform7
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate  "putUri ('rdf:type', 'v-wf:Variable')";
  v-wf:aggregate  "putString ('v-wf:variableValue', 'Ответить на задачу')";
  v-wf:aggregate  "putString ('v-wf:variableName', 'actor_task_action')";
.

# -- ФОРМА ОТВЕТА ЗАДАЧИ ИДЕЯ В РЕАЛИЗАЦИЮ --

v-df:PsHasAction
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-wf:DecisionAgreedToExecute ;
  v-ui:forProperty v-s:hasActivity ;
  v-ui:maxCardinality 20 ;
  v-ui:minCardinality 1 ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Action')"^^xsd:string ;
  v-ui:rangeRestriction v-s:Action ;
  v-ui:tooltip "Non-required, multy value. Link to instance of Action class"@en ;
  v-ui:tooltip "Необязательно к заполнению, единичное значение. Ссылка на объект класса Action."@ru ;
  rdfs:label "Project phases shedule property specification for Project class"@en ;
  rdfs:label "Спецификация ссылки на мероприятие для класса Согласовано в реализацию"@ru ;
  v-ui:placeholder "Добавьте мероприятие"@ru ;
  v-ui:placeholder "Add action"@en ;
.

v-df:DecisionTemplate2
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса -Решение- "@ru ;
  rdfs:label "Template for -Decision- class "@en ;
  v-ui:forClass v-wf:DecisionAgreedToExecute ;
  v-ui:template """
<div>
  <div rel="v-s:hasActivity" data-template="v-df:ActionInDecisionTemplate" data-embedded="true"></div>
  <veda-control rel="v-s:hasActivity" data-type="link" class="-view edit search fullsearch fulltext create"></veda-control>
</div>
  """ ;
.

#v-df:ActionInDecisionTemplate
#  rdf:type v-ui:ClassTemplate ;
#  rdfs:isDefinedBy v-wf: ;
#  rdfs:label "Шаблон для класса Мероприятие внутри Ответа на задачу."@ru ;
#  rdfs:label "Action in decision Template."@en ;
#  v-ui:forClass v-s:Activity ;
#  v-ui:template """
#<div class="panel panel-default">
#  <div class="panel-heading">
#    <span about="v-s:hasActivity" property="rdfs:label"></span>
#  </div>
#  <div class="panel-body">
#    <em about="v-s:responsible" property="rdfs:label"></em>
#    <div rel="v-s:responsible" data-template="v-ui:LabelTemplate" class="view -edit -search"></div>
#    <veda-control rel="v-s:responsible" data-type="link" class="fulltext dropdown -view edit search"></veda-control>
#    <br>
#    <em about="v-s:description" property="rdfs:label"></em>
#    <div property="v-s:description" class="view -edit -search"></div>
#    <veda-control property="v-s:description" data-type="text" class="-view edit search"></veda-control>
#    <br>
#    <em about="v-s:dateTo" property="rdfs:label"></em>
#    <div property="v-s:dateTo" class="view -edit -search"></div>
#    <veda-control property="v-s:dateTo" data-type="dateTime" class="-view edit search"></veda-control>
#  </div>
#</div>
#  """ ;
#.
v-df:PsresponsibleInDecision
  rdf:type v-ui:ObjectPropertySpecification ;
  v-ui:forClass v-s:Activity ;
  v-ui:forProperty v-s:responsible ;
  v-ui:maxCardinality 1 ;
  v-ui:minCardinality 1 ;
  v-ui:tooltip "Non-required, single value. Link to instance of Appointment class"@en ;
  v-ui:tooltip "Необязательно к заполнению, единичное значение. Ссылка на объект класса Назначение."@ru ;
  rdfs:label "Projeсt manager property specification for AgDecision class"@en ;
  rdfs:label "Спецификация руководителя проекта для класса Решение тех.комитета"@ru ;
.

v-wf:permission_c_on_decision
  rdf:type v-s:PermissionStatement ;
  v-s:canCreate "true"^^xsd:boolean ;
  v-s:permissionObject v-wf:Decision ;
  v-s:permissionObject v-wf:DecisionGoSign ;
  v-s:permissionObject v-wf:DecisionGoReview ;
  v-s:permissionObject v-wf:DecisionAnswerToYourQuestion ;
  v-s:permissionObject v-wf:DecisionControll ;
  v-s:permissionObject v-wf:DecisionNotRequireReview ;
  v-s:permissionObject v-wf:DecisionAgreed ;
  v-s:permissionObject v-wf:DecisionAgreedToProject ;
  v-s:permissionObject v-wf:DecisionAgreedToExecute ;
  v-s:permissionObject v-wf:DecisionAgreedToExecuteComment ;
  v-s:permissionObject v-wf:DecisionSign ;
  v-s:permissionObject v-wf:DecisionApprove ;
  v-s:permissionObject v-wf:DecisionReview ;
  v-s:permissionObject v-wf:DecisionRejected ;
  v-s:permissionObject v-wf:DecisionDeclined ;
  v-s:permissionObject v-wf:DecisionPostponed ;
  v-s:permissionObject v-wf:DecisionRemake ;
  v-s:permissionObject v-wf:DecisionRemaked ;
  v-s:permissionObject v-wf:DecisionNotForMe ;
  v-s:permissionObject v-wf:DecisionBreak ;
  v-s:permissionObject v-wf:DecisionGoCoordination1;
  v-s:permissionObject v-wf:DecisionGoCoordination2;
  v-s:permissionObject v-wf:DecisionGoCoordination3;
  v-s:permissionObject v-wf:DecisionGoCoordination4;
  v-s:permissionObject v-wf:DecisionGoCoordination5;
  v-s:permissionObject v-wf:DecisionGoCoordination6;
  v-s:permissionObject v-wf:DecisionGoSign;
  v-s:permissionObject v-wf:DecisionGoApproval;
  v-s:permissionObject v-wf:DecisionExamined ;
  v-s:permissionObject v-wf:DecisionAchieved ;
  v-s:permissionObject v-wf:DecisionNotPerformed ;
  v-s:permissionObject v-wf:DecisionConfirm ;
  v-s:permissionObject v-wf:DecisionRedirect ;
  v-s:permissionObject v-wf:DecisionCalculationsPerformed ;
  v-s:permissionSubject cfg:AllUsersGroup ;
.

v-wf:DecisionAnswerToYourQuestion
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Ответ на ваш вопрос"@ru ;
  rdfs:label "Answer to your question"@en ;
.

v-wf:DecisionControll
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Принять отчет по поручению"@ru ;
  rdfs:label "Accept report"@en ;
.

v-wf:DecisionNotRequireReview
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Не требует рассмотрения"@ru ;
  rdfs:label "Review is not necessary"@en ;
.

v-wf:DecisionAgreed
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Согласовано"@ru ;
  rdfs:label "Approved"@en ;
.

v-wf:DecisionAgreedToProject
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Начать проект"@ru ;
  rdfs:label "Start project"@en ;
.

v-wf:DecisionAgreedToExecute
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Согласовано в реализацию"@ru ;
  rdfs:label "Approved for implementation"@en ;
.

v-wf:DecisionAgreedToExecuteComment
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Согласовано в реализацию"@ru ;
  rdfs:label "Approved for implementation"@en ;
.

v-wf:DecisionSign
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Подписано"@ru ;
  rdfs:label "Signed"@en ;
.

v-wf:DecisionApprove
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Утверждено"@ru ;
  rdfs:label "Approved"@en ;
.

v-wf:DecisionReview
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Рассмотрено"@ru ;
  rdfs:label "Reviewed"@en ;
.

v-wf:DecisionRejected
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Отклонено"@ru ;
  rdfs:label "Declined"@en ;
.

v-wf:DecisionDeclined
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Отклонено"@ru ;
  rdfs:label "Declined"@en ;
.

v-wf:DecisionRemake
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Доработать"@ru ;
  rdfs:label "Rework"@en ;
.

v-wf:DecisionRemaked
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Доработано"@ru ;
  rdfs:label "Reworked"@en ;
.

v-wf:DecisionNotForMe
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Ошибочный исполнитель"@ru ;
  rdfs:label "Wrong executor"@en ;
.

v-wf:DecisionBreak
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Прервать маршрут"@ru ;
  rdfs:label "Cancel route"@en ;
.

v-wf:DecisionExamined
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Ознакомлен"@ru ;
  rdfs:label "Examined"@en ;
.

v-wf:DecisionReturnedToReview
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Вернуть на рассмотрение"@ru ;
  rdfs:label "Returned to review"@en ;
.

v-wf:DecisionAchieved
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выполнено"@ru ;
  rdfs:label "Completed"@en ;
.

v-wf:DecisionNotPerformed
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Не выполнено"@ru ;
  rdfs:label "Not completed"@en ;
.

v-wf:DecisionConfirm
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Подтверждено"@ru ;
  rdfs:label "Confirmed"@en ;
.

v-wf:DecisionRedirect
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Перенаправить другому"@ru ;
  rdfs:label "Redirect"@en ;
.

v-wf:DecisionPostponed
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Отложено"@ru ;
  rdfs:label "Postponed"@en ;
.

v-wf:DecisionCalculationsPerformed
  rdf:type owl:Class ;
  rdfs:subClassOf v-wf:Decision ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Расчет выполнен"@ru ;
  rdfs:label "Calculations performed"@en ;
.

v-wf:DecisionRedirectTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса -Перенаправить другому-"@ru ;
  rdfs:label "Template for -Decision Redirect- class"@en ;
  v-ui:forClass v-wf:DecisionRedirect ;
  v-ui:template """
<div>
  <em about="v-wf:to" property="rdfs:label"></em>
  <div rel="v-wf:to" data-template="v-ui:LabelTemplate" class="view -edit -search"></div>
  <veda-control rel="v-wf:to" data-type="link" class="-view edit search fulltext dropdown"></veda-control>
  <br>
  <em about="rdfs:comment" property="rdfs:label"></em>
  <div property="rdfs:comment" class="view -edit -search"></div>
  <veda-control property="rdfs:comment" data-type="text" class="-view edit search"></veda-control>
</div>
  """ ;
.
v-wf:DecisionTemplate1
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса -Решение-"@ru ;
  rdfs:label "Template for -Decision- class"@en ;
  v-ui:forClass v-wf:DecisionNotForMe ;
  v-ui:forClass v-wf:DecisionAgreed ;
  v-ui:forClass v-wf:DecisionSign ;
  v-ui:forClass v-wf:DecisionApprove ;
  v-ui:forClass v-wf:DecisionReview ;
  v-ui:forClass v-wf:DecisionBreak ;
  v-ui:forClass v-wf:DecisionExamined ;
  v-ui:forClass v-wf:DecisionReturnedToReview ;
  v-ui:forClass v-wf:DecisionAchieved ;
  v-ui:forClass v-wf:DecisionRejected ;
  v-ui:forClass v-wf:DecisionGoCoordination1;
  v-ui:forClass v-wf:DecisionGoCoordination2;
  v-ui:forClass v-wf:DecisionGoCoordination3;
  v-ui:forClass v-wf:DecisionGoCoordination4;
  v-ui:forClass v-wf:DecisionGoCoordination5;
  v-ui:forClass v-wf:DecisionGoCoordination6;
  v-ui:forClass v-wf:DecisionGoSign;
  v-ui:forClass v-wf:DecisionGoApproval;
  v-ui:forClass v-wf:DecisionDeclined ;
  v-ui:forClass v-wf:DecisionPostponed ;
  v-ui:forClass v-wf:DecisionRemake ;
  v-ui:forClass v-wf:DecisionRemaked ;
  v-ui:forClass v-wf:DecisionNotPerformed ;
  v-ui:forClass v-wf:DecisionConfirm ;
  v-ui:forClass v-wf:DecisionAgreedToProject ;
  v-ui:forClass v-wf:DecisionAgreedToExecuteComment ;
  v-ui:forClass v-wf:DecisionCalculationsPerformed ;
  v-ui:template """
<div>
  <em about="rdfs:comment" property="rdfs:label"></em>
  <div property="rdfs:comment" class="view -edit -search"></div>
  <veda-control property="rdfs:comment" data-type="text" class="-view edit search"></veda-control>
</div>
  """ ;
.

v-wf:DecisionRedirectTemplateSpec1
  rdf:type v-ui:PropertySpecification ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Спецификация к свойству комментарий для некоторых подклассов класса -Решение-"@ru ;
  rdfs:label "Spec for template for some -Decision- subclasses"@en ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
  v-ui:forProperty rdfs:comment ;
  v-ui:forClass v-wf:DecisionNotForMe ;
  v-ui:forClass v-wf:DecisionRejected ;
  v-ui:forClass v-wf:DecisionDeclined ;
  v-ui:forClass v-wf:DecisionPostponed ;
  v-ui:forClass v-wf:DecisionRemake ;
  v-ui:forClass v-wf:DecisionNotPerformed ;
.

v-wf:DecisionRedirectTemplateSpec2
  rdf:type v-ui:PropertySpecification ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Спецификация к свойству комментарий для некоторых подклассов класса -Решение-"@ru ;
  rdfs:label "Spec for template for some -Decision- subclasses"@en ;
  v-ui:maxCardinality "1"^^xsd:integer ;
  v-ui:forProperty rdfs:comment ;
  v-ui:forClass v-wf:DecisionAgreed ;
  v-ui:forClass v-wf:DecisionSign ;
  v-ui:forClass v-wf:DecisionApprove ;
  v-ui:forClass v-wf:DecisionReview ;
  v-ui:forClass v-wf:DecisionBreak ;
  v-ui:forClass v-wf:DecisionRemaked ;
  v-ui:forClass v-wf:DecisionExamined ;
  v-ui:forClass v-wf:DecisionReturnedToReview ;
  v-ui:forClass v-wf:DecisionAchieved ;
  v-ui:forClass v-wf:DecisionAgreedToProject ;
  v-ui:forClass v-wf:DecisionConfirm ;
  v-ui:forClass v-wf:DecisionAgreedToExecuteComment ;
  v-ui:forClass v-wf:DecisionCalculationsPerformed ;
.

v-wf:DecisionRedirectTemplateSpec3
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Спецификация свойств для класса -Перенаправить другому-"@ru ;
  rdfs:label "Spec for template for -Decision Redirect- class"@en ;
  v-ui:forClass v-wf:DecisionRedirect ;
  v-ui:forClass v-wf:DecisionAgreedToExecute ;
  v-ui:forProperty v-wf:to, rdfs:comment ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Appointment')"
.

v-wf:questionRouteStartFormLinkRule
  rdf:type v-s:DocumentLinkRules;
  rdfs:label "Задать вопрос"@ru ;
  rdfs:label "Ask a question"@en ;
  v-s:classTo v-df:QuestionRouteStartForm;
  v-s:hasTransformation v-wf:questionRouteStartForm;
  v-s:isRoute "true"^^xsd:boolean;
.
v-wf:instructionRouteStartFormLinkRule
  rdf:type v-s:DocumentLinkRules;
  rdfs:label "Исполнить поручение"@ru ;
  rdfs:label "Execute instruction"@en ;
  v-s:classTo v-df:InstructionRouteStartForm;
  v-s:hasTransformation v-wf:instructionRouteStartForm;
  v-s:isRoute "true"^^xsd:boolean;
.
v-wf:taskRouteStartFormLinkRule
  rdf:type v-s:DocumentLinkRules;
  rdfs:label "Выдать задачу"@ru ;
  rdfs:label "Send a task"@en ;
  v-s:classTo v-df:TaskRouteStartForm;
  v-s:hasTransformation v-wf:taskRouteStartForm;
  v-s:isRoute "true"^^xsd:boolean;
.

v-wf:permission_on_simple_routes_start_from
  rdf:type v-s:PermissionStatement ;
  v-s:canCreate "true"^^xsd:boolean ;
  v-s:permissionObject v-df:QuestionRouteStartForm ;
  v-s:permissionObject v-df:InstructionRouteStartForm ;
  v-s:permissionSubject cfg:AllUsersGroup ;
.

v-wf:questionRouteStartForm
  rdf:type v-wf:Transform ;
  v-wf:transformRule v-wf:rule1question ;
  v-wf:transformRule v-wf:rule2question ;
  v-wf:transformRule v-wf:rule3question ;
  rdfs:isDefinedBy v-wf: ;
.
v-wf:rule1question
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate "putValue ('v-wf:processedDocument')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.
v-wf:rule2question
  rdf:type v-wf:Rule ;
  v-wf:aggregate "putUri ('v-wf:forNet', 's-wf:net_coordination')" ;
  v-wf:segregateElement "contentName('@')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.
v-wf:rule3question
  rdf:type v-wf:Rule ;
  v-wf:aggregate "putUri ('rdf:type', 'v-df:QuestionRouteStartForm')" ;
  v-wf:aggregate "putUri ('v-wf:useTransformation', 'v-df:QuestionRouteStartFormToNet')" ;
  v-wf:segregateElement "contentName('@')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.

v-wf:instructionRouteStartForm
  rdf:type v-wf:Transform ;
  v-wf:transformRule v-wf:rule1instruction ;
  v-wf:transformRule v-wf:rule2instruction ;
  v-wf:transformRule v-wf:rule3instruction ;
  rdfs:isDefinedBy v-wf: ;
.
v-wf:rule1instruction
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate "putValue ('v-wf:processedDocument')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.
v-wf:rule2instruction
  rdf:type v-wf:Rule ;
  v-wf:aggregate "putUri ('v-wf:forNet', 's-wf:net_coordination')" ;
  v-wf:segregateElement "contentName('@')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.
v-wf:rule3instruction
  rdf:type v-wf:Rule ;
  v-wf:aggregate "putUri ('rdf:type', 'v-df:InstructionRouteStartForm')" ;
  v-wf:aggregate "putUri ('v-wf:useTransformation', 'v-df:InstructionRouteStartFormToNet')" ;
  v-wf:segregateElement "contentName('@')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.

v-wf:taskRouteStartForm
  rdf:type v-wf:Transform ;
  v-wf:transformRule v-wf:rule1task ;
  v-wf:transformRule v-wf:rule2task ;
  v-wf:transformRule v-wf:rule3task ;
  rdfs:isDefinedBy v-wf: ;
.
v-wf:rule1task
  rdf:type v-wf:Rule ;
  v-wf:segregateElement "contentName('@')" ;
  v-wf:aggregate "putValue ('v-wf:processedDocument')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.
v-wf:rule2task
  rdf:type v-wf:Rule ;
  v-wf:aggregate "putUri ('v-wf:forNet', 's-wf:net_coordination')" ;
  v-wf:segregateElement "contentName('@')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.
v-wf:rule3task
  rdf:type v-wf:Rule ;
  v-wf:aggregate "putUri ('rdf:type', 'v-df:TaskRouteStartForm')" ;
  v-wf:aggregate "putUri ('v-wf:useTransformation', 'v-df:TaskRouteStartFormToNet')" ;
  v-wf:segregateElement "contentName('@')" ;
  rdfs:isDefinedBy v-wf: ;
  v-wf:grouping "1";
.
v-wf:ProcessStopEvent
  rdf:type v-s:Event ;
  v-s:author cfg:VedaSystem ;
  rdfs:label "Скрипт включает процесс в группу журнала документа." ;
  rdfs:comment "Скрипт включает процесс в группу журнала документа." ;
  v-s:triggerByType v-wf:Process ;
  v-s:script """
/* Available variables:
 * ticket = superuser ticket
 * document = captured document
 * user_uri = user whose actions triggered event
 * prev_state = user whose actions triggered event
 * _event_id = id of the event to prevent cycles in triggers. Must be passed to every function that modifies DB.
 * parent_script_id = id of the parent script that triggered this event.
 * parent_document_id = id of the document that triggered this event.
 */
  if (document['v-wf:isStopped'] &&
      document['v-wf:isStopped'][0].data == true &&
      !prev_state['v-wf:isStopped']) {
    // Disable all active tasks
    recursiveCall(document, {}, ticket, _event_id);
    // Add journal record to process

    var pb = get_individual(ticket, 'v-wf:ProcessStopped');

    var journal_record = newJournalRecord(document['@']+'j');

      journal_record['rdf:type'] = [
      {
          data: 'v-wf:ProcessStopped',
          type: _Uri
      }];
        journal_record['v-s:actor'] = [
        {
            data: user_uri,
            type: _Uri
        }];
      journal_record['rdfs:label'] = pb['rdfs:label'];
      journal_record['rdfs:comment'] = pb['rdfs:label'];

      logToJournal(ticket, document['@']+'j', journal_record, true);
      interrupt_process(ticket, document, _event_id);
  }
""" ;
.

