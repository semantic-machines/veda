Платформа Veda. Протокол обмена c сервисом Client Cache Update Subscription

Клиент -> Сервер:

    1. Рукопожатие: ccus=Ticket
    2. Добавить подписку: +uriN=M[,...]
    Примеры:
    +uri1=5
    +uri1=5,+uri2=9,+uri3=2
    3. Отменить подписку: -uriN[,...]
    Примеры:
    -uri1
    -uri1,-uri2,-uri3
    4. Отменить все подписки: -*
    5. Получить текущий список подписки: =

где Ticket - сессионный билет текущего пользователя, (+/-) - операция подписки или отмены подписки, uriN - uri индивида, M - текущее значение счетчика изменений индивида на сервере.


Сервер -> Клиент

    1. Сообщение об изменении индивидов (как и было): uriN=M[,...]
    Примеры:
    uri1=5
    uri1=5,uri2=4,uri4=9
    2. Вернуть текущий список подписки: =uriN=9[,...]
    Примеры:
    =uri1=9,uri5=3

где uriN - uri индивида, M - текущее значение счетчика изменений индивида на сервере.
